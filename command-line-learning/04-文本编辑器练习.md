# ✏️ 文本编辑器 - 第四阶段

现在你已经掌握了系统监控技能，让我们学习如何在命令行中直接编辑文件！

## 🎯 本阶段目标
掌握命令行文本编辑器的使用，能够在终端中创建和修改文件。

## 编辑器选择

### 1. nano - 新手友好
- ✅ 简单易学，界面友好
- ✅ 底部显示快捷键提示
- ✅ 适合快速编辑

### 2. vim - 功能强大
- ⚡ 功能极其强大
- 📈 学习曲线较陡
- 🚀 高效率编辑

### 3. code - VS Code
- 💻 图形界面编辑器
- 🔧 丰富的插件生态
- 📁 `code .` 打开当前文件夹

## nano 编辑器详解

### 基础操作
```bash
# 打开文件
nano 文件名                 # 打开现有文件或创建新文件
nano                        # 打开空白文件

# 保存和退出
Ctrl + O                    # 保存文件（WriteOut）
Ctrl + X                    # 退出编辑器
Ctrl + X -> Y -> Enter      # 保存并退出的完整流程
```

### 编辑操作
```bash
# 光标移动
方向键                      # 移动光标
Ctrl + A                    # 移到行首
Ctrl + E                    # 移到行尾
Ctrl + Y                    # 上一页
Ctrl + V                    # 下一页

# 文本操作
Ctrl + K                    # 剪切整行
Ctrl + U                    # 粘贴
Ctrl + W                    # 搜索文本
Ctrl + \                    # 替换文本
```

## vim 编辑器入门

### 模式概念
vim有三种主要模式：
- **普通模式**：浏览和导航（默认模式）
- **插入模式**：编辑文本
- **命令模式**：执行命令

### 基础操作
```bash
# 打开文件
vim 文件名

# 模式切换
i                           # 进入插入模式（在光标前插入）
a                           # 进入插入模式（在光标后插入）
ESC                         # 返回普通模式

# 保存和退出（在普通模式下）
:w                          # 保存
:q                          # 退出
:wq                         # 保存并退出
:q!                         # 强制退出不保存
```

### 普通模式下的操作
```bash
# 移动
h, j, k, l                  # 左、下、上、右
w                           # 移到下一个单词
b                           # 移到上一个单词
0                           # 移到行首
$                           # 移到行尾

# 删除
x                           # 删除光标下的字符
dd                          # 删除整行
dw                          # 删除单词

# 复制粘贴
yy                          # 复制整行
p                           # 粘贴
```

## 🏃‍♂️ 实践练习

### 练习1：nano基础操作
```bash
cd practice-area-advanced

# 创建一个新的配置文件
nano config.txt

# 在文件中输入以下内容：
# 应用配置文件
# 版本：1.0
# 作者：你的名字
# 创建时间：今天的日期

# 保存：Ctrl + O，然后Enter
# 退出：Ctrl + X
```

### 练习2：编辑现有文件
```bash
# 编辑学生名单
nano data/students.txt

# 添加几个新学生：
# 王小明
# 李小红
# 张小强

# 保存并退出
```

### 练习3：vim基础操作
```bash
# 用vim创建一个简单的脚本
vim hello.sh

# 按 i 进入插入模式
# 输入以下内容：
#!/bin/bash
echo "Hello, World!"
echo "当前时间：$(date)"

# 按 ESC 返回普通模式
# 输入 :wq 保存并退出
```

### 练习4：文本搜索和替换
```bash
# 用nano打开一个文件
nano data/essay.txt

# 搜索文本：Ctrl + W，输入要搜索的词
# 替换文本：Ctrl + \，输入要替换的词和新词
```

## 🔥 高级技巧

### nano高级功能
```bash
# 显示行号
nano -l 文件名

# 自动缩进
nano -i 文件名

# 语法高亮
nano -Y 语言 文件名          # 如：nano -Y python script.py
```

### vim高级操作
```bash
# 在vim中的搜索和替换
/关键词                     # 搜索关键词
n                           # 下一个匹配
N                           # 上一个匹配
:%s/旧词/新词/g             # 全文替换

# 多行操作
V                           # 选择整行
Ctrl + V                    # 块选择模式
```

### VS Code集成
```bash
# 用VS Code打开文件或文件夹
code 文件名                 # 打开文件
code .                      # 打开当前文件夹
code 文件夹名               # 打开指定文件夹
```

## 💡 实用场景

### 配置文件编辑
```bash
# 编辑系统配置
sudo nano /etc/hosts        # 编辑hosts文件
nano ~/.bashrc              # 编辑bash配置
```

### 脚本编写
```bash
# 创建自动化脚本
nano backup.sh
# 添加执行权限
chmod +x backup.sh
```

### 日志查看和编辑
```bash
# 查看和编辑日志文件
nano logs/app.log
# 或者只读模式查看
less logs/app.log
```

## 🎯 编辑器选择建议

### 新手推荐：nano
- 界面友好，快捷键显示在底部
- 学习成本低，立即可用
- 适合简单的文件编辑

### 进阶推荐：vim
- 功能强大，效率极高
- 值得投资时间学习
- 在服务器环境中普遍可用

### 开发推荐：VS Code
- 现代化的编辑体验
- 丰富的插件和功能
- 适合大型项目开发

## 🎯 掌握标准
完成本阶段后，你应该能够：
- 熟练使用nano进行文件编辑
- 了解vim的基本操作
- 选择合适的编辑器处理不同任务
- 在命令行环境中高效编辑文件

## 下一步
最后一个阶段，我们将学习脚本编程，让你能够自动化日常任务！
