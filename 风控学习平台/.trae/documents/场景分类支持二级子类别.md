## 背景
当前场景分类只有一级（如：用户生命周期），需要支持二级子类别（如：用户生命周期 > 注册）。

## 调整方案

### 1. 数据模型调整

**方案A：在现有 category 字段基础上增加 subCategory 字段（推荐）**
- 优点：改动最小，向后兼容
- 实现：新增 `sub_category` 字段存储子类别

**方案B：使用层级编码（如：user_lifecycle.register）**
- 优点：一个字段搞定，查询简单
- 缺点：需要解析编码，不够直观

**推荐方案A**，更清晰易维护。

### 2. 需要修改的文件

**数据库层：**
- `supabase/init.sql` - 添加 `sub_category` 字段
- `src/types/supabase.ts` - 更新 Scenario 类型
- `src/types/index.ts` - 更新 BusinessScenario 类型

**数据适配层：**
- `src/utils/dataAdapter.ts` - 添加 subCategory 转换

**Store 层：**
- `src/stores/legacyStores.ts` - 更新 scenarioCategoryStore 支持子类别
- `src/stores/enhancedSupabaseStores.ts` - 同步更新

**UI 层：**
- `src/pages/Scenarios/ScenarioList.tsx` - 分类筛选支持二级
- `src/pages/Scenarios/ScenarioEdit.tsx` - 表单支持选择子类别
- `src/data/mockData.ts` - 更新示例数据

**配置层：**
- 新增 `src/config/scenarioCategories.ts` - 集中管理分类配置

### 3. 分类配置设计

```typescript
export const scenarioCategoryConfig = {
  user_lifecycle: {
    label: '用户生命周期',
    subCategories: {
      register: '注册',
      login: '登录',
      info_modify: '信息修改',
      account_cancel: '注销'
    }
  },
  transaction: {
    label: '交易支付',
    subCategories: {
      order_create: '下单',
      payment: '支付',
      refund: '退款',
      dispute: '纠纷处理'
    }
  },
  // ... 其他分类
}
```

### 4. 实施步骤
1. 创建分类配置文件
2. 更新类型定义
3. 更新数据库脚本
4. 更新数据适配器
5. 更新 Store
6. 更新 UI 组件
7. 更新示例数据
8. 测试验证

请确认方案后我开始实施。